<!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<html>
<head>
	<link rel="stylesheet" type="text/css" href="css/estilo.css">
	<link rel="stylesheet" type="text/css" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css">
	<script type="text/javascript" src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
	<script type="text/javascript" src="http://d3js.org/d3.v3.min.js"></script>
	<script type="text/javascript" src="http://code.jquery.com/jquery-git.js"></script>
	<script type="text/javascript" src="js/solicitud.js"></script>
	<script type="text/javascript">
	//$.get("http://192.168.0.4:3000/api/datas/300?key=asdf",solicitud);
	//se colocan las referencias de color
	var diccionario = {
		"datas":{
			"hombres" : {
				"2006" : {
					"1" : 607,
					"2" : 450,
					"3" : 573,
					"4" : 802,
					"5" : 1023
				},
				"2007" : {
					"1" : 508,
					"2" : 1058,
					"3" : 203,
					"4" : 889,
					"5" : 1520
				},
				"2008" : {
					"1" : 705,
					"2" : 102,
					"3" : 1585,
					"4" : 1268,
					"5" : 176
				},
				"2009" : {
					"1" : 1025,
					"2" : 3587,
					"3" : 479,
					"4" : 369,
					"5" : 152
				}
			},
			"mujeres" : {
				"2006" : {
					"1" : 502,
					"2" : 468,
					"3" : 852,
					"4" : 367,
					"5" : 3589
				},
				"2007" : {
					"1" : 505,
					"2" : 985,
					"3" : 634,
					"4" : 756,
					"5" : 968
				},
				"2008" : {
					"1" : 348,
					"2" : 758,
					"3" : 1987,
					"4" : 1698,
					"5" : 258
				},
				"2009" : {
					"1" : 2586,
					"2" : 1268,
					"3" : 254,
					"4" : 712,
					"5" : 2145
				}
			},
			"nino" : {
				"2006" : {
					"1" : 1596,
					"2" : 1,
					"3" : 852,
					"4" : 367,
					"5" : 3589
				},
				"2007" : {
					"1" : 505,
					"2" : 985,
					"3" : 634,
					"4" : 756,
					"5" : 968
				},
				"2008" : {
					"1" : 348,
					"2" : 758,
					"3" : 1987,
					"4" : 1698,
					"5" : 258
				},
				"2009" : {
					"1" : 2586,
					"2" : 1268,
					"3" : 254,
					"4" : 712,
					"5" : 2145
				}
			}
		}
	};
	
	setTimeout(function(){
		solicitud(diccionario);
		
	}, 1000); 
	var ancho_actual = window.innerWidth;
	var alto_actual = window.innerHeight;
	var nuevo_ancho, nuevo_alto, porcentaje_cambio_ancho, porcentaje_cambio_alto, radio_actual,conjunto_circle;
	
	//redimension de la ventana
	$( window ).resize(function() {
  		
		nuevo_ancho = window.innerWidth;
		nuevo_alto = window.innerHeight;
		porcentaje_cambio_ancho = nuevo_ancho / ancho_actual;
		porcentaje_cambio_alto = nuevo_alto / alto_actual;
		conjunto_circle = $('circle').select();
		for(var i = 0; i<conjunto_circle.length;i++){
			var circle_aux = $(conjunto_circle[i])
			radio_actual = circle_aux.attr('r');
			circle_aux.attr('r',radio_actual*porcentaje_cambio_ancho);
		}
		
		ancho_actual = nuevo_ancho;
		alto_actual = nuevo_alto;
	});
	</script>
	<title>PRUEBA 3</title>
</head>
<body>
	<div class="container">
		<div id="titulo">
			<h1>Burbujas</h1>
		</div>
		<div id="grafica" >
			<svg class="lienzo"></svg>
		</div>
		
		<div id="referencia"></div>
		<div>
			<p>
				Burbujas es una grafica que se encarga de pintar figuras circulares en forma de barra con el fin de comparar
				las direfentes proporciones que cada una de estas posee. Para graficar se hace uso de un diccionario de al menos
				3 niveles de profundidad, como ejemplo de implementaci&#243;n se har&#225; uso del siguiente diccionario:
			</p>
			<script src="https://gist.github.com/fab48/8699453.js"></script>
				
		</div>
	</div>
</body>
</html>	